# GeoLibrary - Библиотека для геопространственных расчетов и конвертации единиц

## Обзор

GeoLibrary - это библиотека на C#, предоставляющая функциональность для геопространственных расчетов и конвертации различных единиц измерения. Библиотека включает методы для расчета расстояний и азимутов между географическими координатами, а также конвертацию единиц длины и площади.

## Установка и использование

```csharp
using GeoLibrary;

var calculator = new GeoCalculator();
```

## Методы библиотеки

### Географические расчеты

#### `GetDistance(double lat1, double lon1, double lat2, double lon2)`
Рассчитывает расстояние между двумя географическими точками по формуле Хаверсина.

**Параметры:**
- `lat1` - широта первой точки в градусах (-90 до 90)
- `lon1` - долгота первой точки в градусах (-180 до 180)
- `lat2` - широта второй точки в градусах (-90 до 90)
- `lon2` - долгота второй точки в градусах (-180 до 180)

**Возвращает:**
- Расстояние в километрах

**Пример:**
```csharp
double distance = calculator.GetDistance(55.7558, 37.6173, 59.9343, 30.3351);
// Москва ? Санкт-Петербург: ~634 км
```

#### `GetAzimuth(double lat1, double lon1, double lat2, double lon2)`
Рассчитывает азимут (направление) от первой точки ко второй.

**Параметры:**
- `lat1`, `lon1` - координаты начальной точки
- `lat2`, `lon2` - координаты конечной точки

**Возвращает:**
- Азимут в градусах (0-360°, где 0° - север, 90° - восток)

**Пример:**
```csharp
double azimuth = calculator.GetAzimuth(55.7558, 37.6173, 59.9343, 30.3351);
```

#### `ToRadians(double deg)`
Вспомогательный метод для конвертации градусов в радианы.

**Параметры:**
- `deg` - значение в градусах

**Возвращает:**
- Значение в радианах

### Конвертация единиц длины

#### `KmToMiles(double km)`
Конвертирует километры в мили.

**Коэффициент:** 1 км = 0.621371 мили

#### `MilesToKm(double miles)`
Конвертирует мили в километры.

**Коэффициент:** 1 миля = 1.60934 км

#### `MetersToFeet(double m)`
Конвертирует метры в футы.

**Коэффициент:** 1 метр = 3.28084 фута

#### `FeetToMeters(double ft)`
Конвертирует футы в метры.

**Коэффициент:** 1 фут = 0.3048 метра

### Конвертация единиц площади

#### `HectaresToAcres(double ha)`
Конвертирует гектары в акры.

**Коэффициент:** 1 гектар = 2.47105 акра

#### `AcresToHectares(double acres)`
Конвертирует акры в гектары.

**Коэффициент:** 1 акр = 0.404686 гектара

### Универсальный конвертер

#### `Convert(string from, string to, double val)`
Универсальный метод для конвертации между различными единицами измерения.

**Поддерживаемые конвертации:**
- "km" ? "miles" (километры ? мили)
- "meters" ? "feet" (метры ? футы)
- "hectares" ? "acres" (гектары ? акры)

**Параметры:**
- `from` - исходная единица измерения
- `to` - целевая единица измерения
- `val` - значение для конвертации

**Примеры:**
```csharp
double miles = calculator.Convert("km", "miles", 100); // 100 км в мили
double acres = calculator.Convert("hectares", "acres", 10); // 10 гектаров в акры
```

## Примеры использования

### Расчет расстояния между городами
```csharp
double moscowLat = 55.7558;
double moscowLon = 37.6173;
double spbLat = 59.9343;
double spbLon = 30.3351;

double distance = calculator.GetDistance(moscowLat, moscowLon, spbLat, spbLon);
double azimuth = calculator.GetAzimuth(moscowLat, moscowLon, spbLat, spbLon);
```

### Конвертация единиц длины
```csharp
double kilometers = 100;
double meters = 1000;

double kilometersToMiles = calculator.KmToMiles(kilometers);
double metersToFeet = calculator.MetersToFeet(meters);
```

### Конвертация единиц площади
```csharp
double hectares = 50;
double acres = calculator.HectaresToAcres(hectares);
double backToHectares = calculator.AcresToHectares(acres);
```

## Обработка ошибок

Библиотека генерирует исключения в следующих случаях:
- Попытка выполнить неизвестную конвертацию в методе `Convert`
- Некорректные математические операции при расчетах

**Рекомендация:** Всегда оборачивайте вызовы методов в блоки try-catch.

## Примечания

- Для географических расчетов используется сферическая модель Земли с радиусом 6371 км
- Все угловые измерения производятся в градусах
- Коэффициенты конвертации соответствуют международным стандартам
- Метод `SomeUnusedMethod` является устаревшим и не рекомендуется к использованию

## Требования

- .NET Framework или .NET Core
- Пространство имен: `LegacyLibrary`